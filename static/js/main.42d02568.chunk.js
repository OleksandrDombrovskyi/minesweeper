(this.webpackJsonpsapper=this.webpackJsonpsapper||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(34)},,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),l=n(5),c=n.n(l),s=(n(18),n(19),n(1)),o=n(2),u=n(12);n(25);function d(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((function(e){return navigator.userAgent.match(e)}))}function m(e){return function(t){if(!d()&&0===t.button){var n=t.currentTarget,r=n.parentElement;n.ondragstart=function(){return!1};var i=v(n,".gridCell");document.body.appendChild(n);var l=n.style.position,c=n.style.zIndex,s=n.style.top,o=n.style.left;n.style.position="absolute",n.style.zIndex="1000",f(t.pageX,t.pageY,n);var u=function(e){f(e.pageX,e.pageY,n)};document.addEventListener("mousemove",u),n.onmouseup=function(t){document.removeEventListener("mousemove",u),n&&document.body.removeChild(n);var d=v(document.elementFromPoint(t.pageX,t.pageY),".gridCell"),m=g(i),f=g(d);if(f||m){if((null===f||void 0===f?void 0:f.x)===(null===m||void 0===m?void 0:m.x)&&(null===f||void 0===f?void 0:f.y)===(null===m||void 0===m?void 0:m.y))return void(r&&(r.appendChild(n),n.style.position=l||"relative",n.style.zIndex=c||"initial",n.style.top=s||"-32px",n.style.left=o||"-2px"));e({type:a.dragNDroppedFlag,payload:{cellToAddFlag:f,cellToRemoveFlag:m}})}}}}}function g(e){if(e){var t=e.id,n=t.substr(0,t.indexOf("_")),a=t.substr(t.indexOf("_")+1);return n&&a?{x:+n,y:+a}:null}return null}function f(e,t,n){n&&(n.style.left=e-n.offsetWidth/2+"px",n.style.top=t-n.offsetHeight/2+"px")}!function(e){e[e.startGame=0]="startGame",e[e.cellClicked=1]="cellClicked",e[e.cellClickFailed=2]="cellClickFailed",e[e.gameWon=3]="gameWon",e[e.cellRightClicked=4]="cellRightClicked",e[e.incrementTime=5]="incrementTime",e[e.dragNDroppedFlag=6]="dragNDroppedFlag",e[e.selectFlag=7]="selectFlag",e[e.selectCrossedFlag=8]="selectCrossedFlag"}(a||(a={}));var h,v=function(e,t){for(;null!=e;){if(e.matches(t))return e;if(null==e.parentElement)return null;e=e.parentElement}return null};!function(e){e[e.INITIAL=0]="INITIAL",e[e.FLAGGED=1]="FLAGGED",e[e.QUESTIONED=2]="QUESTIONED",e[e.OPEN=3]="OPEN"}(h||(h={}));var p=function e(t,n){Object(u.a)(this,e),this.position=void 0,this.number=void 0,this.state=void 0,this.isFailed=void 0,this.position=t,this.number=n,this.state=h.INITIAL,this.isFailed=!1};function E(e,t){return function(n){n.preventDefault(),t({type:a.cellRightClicked,payload:e})}}function b(e,t){return function(){t({type:a.cellClicked,payload:e})}}var y=Object(s.b)((function(e,t){return{position:t.position,number:x(t.position)(e),state:C(t.position)(e),isFailed:I(t.position)(e)}}))((function(e){var t=e.position,n=e.number,l=e.state,c=e.isFailed,o=Object(s.c)();return Object(r.useEffect)((function(){c&&o({type:a.cellClickFailed})})),i.a.createElement("div",{id:e.position.x+"_"+e.position.y,className:"gridCell",onClick:b(t,o),onContextMenu:E(t,o)},function(e,t,n,a){switch(e){case h.INITIAL:return i.a.createElement("svg",{width:"33",height:"33"},i.a.createElement("rect",{className:"initial",width:"30",height:"30"}));case h.OPEN:return-1===t?function(e){return i.a.createElement("div",{className:"img-overlay-svg"},i.a.createElement("svg",{width:"33",height:"33"},i.a.createElement("rect",{className:"open"+(e?" failedCell":""),width:"30",height:"30"})),i.a.createElement("img",{width:"33",height:"33",src:"bomb.svg",alt:"123"}))}(n):t>0?function(e){return i.a.createElement("div",null,i.a.createElement("svg",{width:"33",height:"33"},i.a.createElement("rect",{className:"open",width:"30",height:"30"})),i.a.createElement("span",{className:"number_"+e},e))}(t):i.a.createElement("svg",{width:"33",height:"33"},i.a.createElement("rect",{className:"open",width:"30",height:"30"}));case h.FLAGGED:return function(e){return i.a.createElement("div",{className:"img-overlay-svg"},i.a.createElement("svg",{className:"cell-sign",width:"33",height:"33"},i.a.createElement("rect",{className:"initial",width:"30",height:"30"})),i.a.createElement("img",{className:"cell-sign flag",width:"22",height:"22",src:"flag.png",alt:"123",onMouseDown:m(e)}))}(a);case h.QUESTIONED:return i.a.createElement("div",null,i.a.createElement("svg",{width:"33",height:"33"},i.a.createElement("rect",{className:"initial",width:"30",height:"30"})),i.a.createElement("span",{className:"question"},"?"))}}(l,n,c,o))})),N=function(e){return e.gameState},F=Object(o.a)([N],(function(e){return e.grid})),O=Object(o.a)([N],(function(e){return e.isGameFailed})),G=Object(o.a)([N],(function(e){return e.isGameWon})),_=Object(o.a)([N],(function(e){return e.isGridGenerated})),w=Object(o.a)([F],(function(e){return e.cells})),j=function(e){return Object(o.a)([w],(function(t){return t[e.y][e.x]}))},x=function(e){return Object(o.a)([j(e)],(function(e){return e.number}))},C=function(e){return Object(o.a)([j(e)],(function(e){return e.state}))},I=function(e){return Object(o.a)([j(e)],(function(e){return e.isFailed}))},T=Object(o.a)([F],(function(e){return e.cells.flat().filter((function(e){return-1===e.number})).length})),A=Object(o.a)([F],(function(e){return e.cells.flat().filter((function(e){return e.state===h.FLAGGED})).length})),S=Object(o.a)([N],(function(e){return e.gameTime})),k=Object(o.a)([N],(function(e){return e.isFlagSelected})),D=Object(o.a)([N],(function(e){return e.isFlagCrossedSelected}));n(26);function L(e,t){var n=e[t.y][t.x];n.state!==h.FLAGGED&&n.state!==h.QUESTIONED&&(-1===n.number&&(n.isFailed=!0),function e(t,n){if(W(t,n))return;var a=t[n.y][n.x];if(a.state===h.OPEN)return;if(a.state=h.OPEN,0===a.number)for(var r=n.x-1;r<=n.x+1;r++)for(var i=n.y-1;i<=n.y+1;i++)r===n.x&&i===n.y||e(t,{x:r,y:i})}(e,n.position))}function W(e,t){return t.x<0||t.y<0||t.x>=e.length||t.y>=e[0].length}function P(){return M({x:0,y:0},10,10)}function M(e,t,n){var a,r=function(e,t){for(var n=e.x-1;n<=e.x+1;n++)for(var a=e.y-1;a<=e.y+1;a++)if(!W(t,{x:a,y:n})){var r=t[a][n];if(-1===r.number){var i=void 0,l=void 0;do{i=R(0,t[0].length-1),l=R(0,t.length-1)}while(U(i,l,e)||Q(i,l,t));r.number=0,t[l][i].number=-1}}return t}(e,function(e){for(var t=new Array,n=0;n<e.length;n++){for(var a=new Array,r=0;r<e[0].length;r++)a.push(new p({x:r,y:n},e[n][r]));t.push(a)}return t}(function(e){return e.map((function(e){return e.map((function(e){return e?-1:0}))}))}(function(e,t,n){for(var a=new Array,r=0;r<n;r++)a.push(e.slice(t*r,t*(r+1)));return a}(function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}(function(e,t){for(var n=e*t,a=Math.floor(n/4),r=new Array,i=0;i<n;i++)i<a?r.push(!0):r.push(!1);return r}(t,n)),t,n))));return(a=r).forEach((function(e){return e.forEach((function(e){-1===e.number&&function(e,t){for(var n=e.x-1;n<=e.x+1;n++)for(var a=e.y-1;a<=e.y+1;a++)if((n!==e.x||a!==e.y)&&!W(t,{x:a,y:n})){var r=t[a][n];-1!==r.number&&(r.number+=1)}}(e.position,a)}))})),a}function Q(e,t,n){return-1===n[t][e].number}function U(e,t,n){return e>=n.x-1&&e<=n.x+1&&t>=n.y-1&&t<=n.y+1}function R(e,t){return e+Math.floor((t-e)*Math.random())}n(27);var X=function(){var e=Object(s.d)(T),t=Object(s.d)(A);return i.a.createElement("div",null,i.a.createElement("div",{className:"bomb_amount_container"},i.a.createElement("span",{className:"bomb_amount"},e-t)),i.a.createElement("div",{className:"image_container"},i.a.createElement("img",{className:"bomb_image",src:"bomb.svg",alt:"123"})))};function Y(e){return 0===e.length?"00":1===e.length?"0"+e:e}n(28);var B,z=function(){var e=Object(s.d)(S),t=Object(s.c)();return Object(r.useEffect)((function(){return B=setInterval((function(){return t({type:a.incrementTime})}),1e3),function(){clearInterval(B)}})),i.a.createElement("div",null,i.a.createElement("span",{className:"timer_span"},function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=e%3600%60;return Y(t.toString())+":"+Y(n.toString())+":"+Y(a.toString())}(e)))},J=(n(29),function(){var e=Object(s.c)();return Object(r.useEffect)((function(){return function(e){var t=document.getElementById("draggable_flag");t&&(t.ondragstart=function(){return!1},t.onmousedown=function(n){if(t){var r=t.cloneNode(!0);r.id="clonedFlag",document.body.appendChild(r),r.ondragstart=function(){return!1},r.style.position="absolute",r.style.zIndex="1000",f(n.pageX,n.pageY,r);var i=function(e){f(e.pageX,e.pageY,r)};document.addEventListener("mousemove",i),r.onmouseup=function(t){document.removeEventListener("mousemove",i),r&&document.body.removeChild(r);var n=g(v(document.elementFromPoint(t.pageX,t.pageY),".gridCell"));n&&e({type:a.dragNDroppedFlag,payload:{cellToAddFlag:n}})}}})}(e)})),i.a.createElement("div",{id:"drag_n_drop_flags_container_id",className:"drag_n_drop_flags_container"},i.a.createElement("img",{className:"drag_n_drop_flag_1",width:"22",height:"22",src:"flag.png",alt:"123"}),i.a.createElement("img",{className:"drag_n_drop_flag_2",width:"22",height:"22",src:"flag.png",alt:"123"}),i.a.createElement("img",{className:"drag_n_drop_flag_3",width:"22",height:"22",src:"flag.png",alt:"123"}),i.a.createElement("img",{id:"draggable_flag",className:"drag_n_drop_flag_4",width:"22",height:"22",src:"flag.png",alt:"123"}))}),q=(n(30),function(){var e=Object(s.c)(),t=Object(s.d)(k),n=Object(s.d)(D);return i.a.createElement("div",null,t?i.a.createElement("div",{className:"flag_div",onClick:function(){return e({type:a.selectFlag})}},i.a.createElement("svg",{className:"cell-sign",width:"33",height:"43"},i.a.createElement("rect",{className:"open",width:"30",height:"40"})),i.a.createElement("img",{className:"drag_mobile",width:"22",height:"22",src:"flag.png",alt:"123"})):i.a.createElement("div",{className:"flag_div",onClick:function(){return e({type:a.selectFlag})}},i.a.createElement("svg",{className:"cell-sign",width:"33",height:"43"},i.a.createElement("rect",{className:"initial",width:"30",height:"40"})),i.a.createElement("img",{className:"drag_mobile",width:"22",height:"22",src:"flag.png",alt:"123"})),n?i.a.createElement("div",{className:"flag_crossed_div",onClick:function(){return e({type:a.selectCrossedFlag})}},i.a.createElement("svg",{className:"cell-sign",width:"33",height:"43"},i.a.createElement("rect",{className:"open",width:"30",height:"40"})),i.a.createElement("img",{className:"drag_crossed_mobile",width:"22",height:"22",src:"flag_crossed.png",alt:"123"})):i.a.createElement("div",{className:"flag_crossed_div",onClick:function(){return e({type:a.selectCrossedFlag})}},i.a.createElement("svg",{className:"cell-sign",width:"33",height:"43"},i.a.createElement("rect",{className:"initial",width:"30",height:"40"})),i.a.createElement("img",{className:"drag_crossed_mobile",width:"22",height:"22",src:"flag_crossed.png",alt:"123"})))}),H=function(){var e=Object(s.d)(G),t=Object(s.d)(O),n=Object(s.d)(T),a=Object(s.d)(A),r=Object(s.c)(),l=function(e,t,n,a){return e?"failed.png":t?"win.png":n<a?"laugh.png":"start.png"}(t,e,n,a);return i.a.createElement("div",{className:"header"},d()?i.a.createElement("div",{className:"flags-mobile"},i.a.createElement(q,null)):i.a.createElement("div",{className:"flags"},i.a.createElement(J,null)),i.a.createElement("div",{className:"counter"},i.a.createElement(X,null)),i.a.createElement("div",{className:"smile"},i.a.createElement("img",{className:"smile_image",src:"smiles/"+l,alt:"fail",onClick:$(r)})),i.a.createElement("div",{className:"timer"},i.a.createElement(z,null)))};function $(e){return function(){return e({type:a.startGame,payload:{isGameWon:!1,isGameFailed:!1,isGridGenerated:!1,gameTime:0,isFlagSelected:!1,isFlagCrossedSelected:!1,grid:{cells:P()}}})}}n(31),n(32);var K=Object(o.b)({grid:F,isGameFailed:O,isGameWon:G,isGridGenerated:_,gameTime:S,isFlagSelected:k,isFlagCrossedSelected:D}),V=Object(s.b)(K)((function(e){var t=Object(s.c)();return Object(r.useEffect)((function(){e.isGameWon&&t({type:a.gameWon})})),i.a.createElement("div",{className:"grid"+(e.isGameFailed||e.isGameWon?" disabled":"")},e.grid.cells.map((function(e){return e.map((function(e){return i.a.createElement(y,Object.assign({key:e.position.x+"x"+e.position.y},e))}))})))})),Z=function(){return i.a.createElement("div",{className:"body_container"},i.a.createElement("div",{className:"body"},i.a.createElement(V,null)))},ee=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(H,null),i.a.createElement(Z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=n(4),ne=n(3),ae={isGameWon:!1,isGameFailed:!1,isGridGenerated:!1,gameTime:0,isFlagSelected:!1,isFlagCrossedSelected:!1,grid:{cells:P()}};function re(e,t,n){return n&&function(e,t){var n=e[t.y][t.x];n.state!==h.OPEN&&(n.state=h.INITIAL)}(e,n),t&&function(e,t){var n=e[t.y][t.x];n.state!==h.INITIAL&&n.state!==h.QUESTIONED||(n.state=h.FLAGGED)}(e,t),e}function ie(e){return e.isGridGenerated&&!e.isGameFailed&&!e.isGameWon}function le(e){return function(e){return e.flat().filter((function(e){return-1!==e.number})).every((function(e){return e.state===h.OPEN}))}(e)}function ce(e){return function(e){e.cells.forEach((function(e){return e.forEach((function(e){-1===e.number&&e.state!==h.FLAGGED&&(e.state=h.OPEN)}))}))}(e),e}function se(e,t,n,a){return n?function(e,t){var n=e[t.y][t.x];n.state!==h.OPEN&&(n.state=h.FLAGGED)}(e,t):a?function(e,t){var n=e[t.y][t.x];n.state===h.FLAGGED&&(n.state=h.INITIAL)}(e,t):L(e,t),e}function oe(e,t){return function(e,t){var n=e[t.y][t.x];switch(n.state){case h.INITIAL:n.state=h.FLAGGED;break;case h.FLAGGED:n.state=h.QUESTIONED;break;case h.QUESTIONED:n.state=h.INITIAL}}(e,t),e}var ue=Object(te.c)({gameState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.startGame:return t.payload;case a.cellClicked:var n;return e.isGridGenerated?n=e.grid.cells:(n=M(t.payload,10,10),e.isGridGenerated=!0),Object(ne.a)({},e,{grid:{cells:se(n,t.payload,e.isFlagSelected,e.isFlagCrossedSelected)},isGameWon:le(n),isFlagSelected:!1,isFlagCrossedSelected:!1});case a.cellClickFailed:return Object(ne.a)({},e,{grid:ce(e.grid),isGameFailed:!0});case a.cellRightClicked:return Object(ne.a)({},e,{grid:{cells:oe(e.grid.cells,t.payload)}});case a.gameWon:return Object(ne.a)({},e,{grid:ce(e.grid)});case a.incrementTime:return Object(ne.a)({},e,{gameTime:ie(e)?e.gameTime+1:e.gameTime});case a.dragNDroppedFlag:return Object(ne.a)({},e,{grid:{cells:re(e.grid.cells,t.payload.cellToAddFlag,t.payload.cellToRemoveFlag)}});case a.selectFlag:return Object(ne.a)({},e,{isFlagSelected:!e.isFlagSelected});case a.selectCrossedFlag:return Object(ne.a)({},e,{isFlagCrossedSelected:!e.isFlagCrossedSelected});default:return ae}}});n(33);var de=Object(te.d)(ue,te.a.apply(void 0,[]));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(s.a,{store:de},i.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.42d02568.chunk.js.map